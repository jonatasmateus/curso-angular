<mat-card>
    <mat-card-content>
        <mat-toolbar color="primary">
            <span>Lista de cursos dispon√≠veis</span>
        </mat-toolbar>

        <div *ngIf="courses$ | async as courses; else loading">
            <table mat-table [dataSource]="courses" class="mat-elevation-z8">

            <!-- Name Column -->
            <ng-container matColumnDef="name">
                <mat-header-cell *matHeaderCellDef>Course</mat-header-cell>
                <mat-cell *matCellDef="let course">{{ course.name }}</mat-cell>
            </ng-container>

            <!-- Category Column -->
            <ng-container matColumnDef="category">
                <mat-header-cell *matHeaderCellDef>Category</mat-header-cell>
                <mat-cell *matCellDef="let course">
                {{ course.category }}
                <mat-icon aria-hidden="false" aria-label="Course Category">{{
                    course.category | category
                }}</mat-icon>
                </mat-cell>
            </ng-container>

            <!-- Actions Column -->
            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef>
                    <button 
                        mat-mini-fab 
                        color="accent" 
                        aria-label="Adicionar um curso" 
                        (click)="onAdd()">
                        <mat-icon>add</mat-icon>
                    </button>
                </mat-header-cell>

                <mat-cell *matCellDef="let course">
                    <button
                        mat-icon-button
                        color="primary"
                        aria-label="Editar Curso"
                        >
                        <mat-icon>edit</mat-icon>
                    </button>
                
                    <button
                        mat-icon-button
                        color="warn"
                        aria-label="Remover Curso"
                        >
                        <mat-icon>delete</mat-icon>
                    </button>
                    </mat-cell>              
            </ng-container>
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

            </table>
        </div>

        <ng-template #loading>
            <div class="loading-spinner">
                <mat-spinner></mat-spinner>
            </div>
        </ng-template>
        
    </mat-card-content>
</mat-card>